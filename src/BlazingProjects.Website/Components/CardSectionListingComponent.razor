@inherits CardSectionListingComponentVM

<div class="col-sm-4 px-2">
    <div class="bg-primary rounded shadow-lg">
        <div class="card mb-3 bg-transparent">
            <div class="card-body">
                <div class="card-title row">
                    <h2 class="col-sm-10">@CardSection.Title</h2>
                    <div class="col-sm-2">
                    
                        <button @onclick=DeleteAsync class="btn btn-danger btn-sm rounded-circle">
                            <span class="oi oi-x" aria-hidden="true"></span>
                        </button>
                    </div>
                </div>
                <div class="card-stack">
                @foreach (var card in CardSection.Cards ?? new Card[] { })
                {
                    <div class="list-group-item mb-3 shadow-sm bg-mute rounded-lg">
                        <div class="card-title"><h3>@card.Title</h3></div>
                        <div class="card-text">@card.Description</div>
                    </div>
                }
                </div>

                <div class="card bg-primary py-4 px-3">
                    @if (CardAdd != null)
                    {
                    <EditForm Model=CardAdd OnValidSubmit=AddCardAsync>
                        <DataAnnotationsValidator />
                        <ValidationSummary />

                        <div class="input-group mb-3 input-group-sm">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Title</span>
                            </div>
                            <InputText @bind-Value=CardAdd.Title class="form-control" />
                        </div>

                        <div class="input-group mb-3 input-group-sm">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Description</span>
                            </div>
                            <InputTextArea @bind-Value=CardAdd.Description class="form-control" />
                        </div>

                        <div class="btn-sm float-right">
                            <AddButtonComponent />
                        </div>
                    </EditForm>
                    }
                </div>

            </div>
        </div>

    </div>

</div>